@model ModelLayer.Models.ViewModel.WarehouseStockViewModel
@using ModelLayer.Models.ViewModel

<style type="text/css">
    #msform1 fieldset:not(:first-of-type) {
        display: none;
    }

    .field-validation-error {
        color: #000000 !important;
    }

    .succes-msg {
        color: #31A012;
        font-size: 20px;
    }

    .beatpicker-clearButton button {
        display: none;
    }

    .input-parent button {
        display: none;
    }

    .textarea-adjust {
        width: 85%;
    }
    /*Beatpicker Css*/
    .beatpicker-clearButton button {
        display: none;
    }

    .input-parent button {
        display: none;
    }

    .header-navbar-button {
        position: absolute !important;
    }

    .beatpicker .main-nav .current-indicator {
        text-align: center !important;
    }

    .beatpicker .main-nav .prev1 {
        left: 0 !important;
        width: 14%;
        padding: 0px 10px;
        color: #fff;
        font-size: 16px;
    }

    .beatpicker .main-nav .next1 {
        right: 0 !important;
        width: 9%;
        color: #fff;
        font-size: 16px;
    }

    .beatpicker .main-nav .prev1:hover {
        left: 0 !important;
        width: 14%;
        padding: 0px 10px;
        color: #fff;
        font-size: 20px;
        cursor: pointer !important;
    }

    .beatpicker .main-nav .next1:hover {
        right: 0 !important;
        width: 9%;
        color: #fff;
        font-size: 20px;
        cursor: pointer !important;
    }

    #divImages .remove {
        background: url(/Content/img/remove-icon.png) no-repeat 0px 0px #fff;
        float: left;
        font-size: 0 !important;
        width: 23px !important;
        padding: 2px 4px;
    }
    /*Beatpicker Css End*/
    .box.span12.right_side_up_part .form-control .pull-left select#SupplierID {
        margin-bottom: 0;
        border-radius: 5px;
    }

    .box.span12.right_side_up_part .form-control .pull-left button#Search {
        margin-top: 0;
    }

    section.right_side_main_part div#content .content div a.btn.btn-primary {
        border-radius: 5px !important;
    }

    .box.span12.right_side_up_part .box-content .form-control .pull-left button#Search {
        margin-top: 0;
    }

    .box.span12.right_side_up_part .box-content .form-control .pull-left select#SupplierID {
        margin-bottom: 0;
        border-radius: 5px !important;
    }

    .box.span12.right_side_up_part .box-content table#tblData tbody tr td {
        white-space: nowrap;
    }

        .box.span12.right_side_up_part .box-content table#tblData tbody tr td a.btn.btn-small.btn-info {
            padding: 2px 10px;
            border-radius: 5px !important;
        }

    table#tblData thead tr th {
        white-space: nowrap;
    }

    .box.span12.right_side_up_part .box-content table#tblData tbody tr td a#Print {
        margin: 0;
        padding: 2px 15px;
    }

    .box.span12.right_side_up_part .box-content table#tblData tbody tr td a#Print1 {
        padding: 2px 15px;
        margin: 0;
        background: #eea236;
        border-radius: 5px !important;
    }

    .box.span12.right_side_up_part .box-content div#tblData_wrapper table#tblData tbody tr td a.btn.btn-small.btn-success {
        padding: 2px 10px;
        border-radius: 5px !important;
    }

    .box.span12.right_side_up_part .form-control div#tblData_wrapper table#tblData tbody tr td a#Print {
        padding: 2px 10px;
        margin-top: 0;
    }

    .box.span12.right_side_up_part .form-control div#tblData_wrapper table#tblData tbody tr td a.btn.btn-small.btn-success {
        padding: 2px 5px;
        border-radius: 5px !important;
    }

    .box.span12.right_side_up_part .form-control div#tblData_wrapper table#tblData tbody tr td .btn-print-org {
        background: #eea236;
    }
</style>


<link href="~/Content/css/Site.css" rel="stylesheet" />
<link href="~/Content/css/searching.css" rel="stylesheet" />
<link href="~/Content/css/sortable.css" rel="stylesheet" />
<script src="~/Content/js/jquery-1.11.1.min.js"></script>
<script src="~/Content/js/jquery-1.9.1.min.js"></script>
<script src="~/Content/js/jQuery-Table-Plugin.js"></script>
<link href="~/Content/assets/css/font-awesome.min.css" rel="stylesheet" />

<script src="~/Content/js/jquery-2.1.3.min.js"></script>
<link href="~/Content/css/jquery.dataTables.css" rel="stylesheet" />
<script src="~/Content/js/jquery.dataTables.js" language="jascript"></script>
@*/// Added by Rumana on 17-04-2019*@
<script type="text/javascript" class="init">
    $(document).ready(function () {
        $('#tblData').DataTable({
            dom: 'T<"clear">lfrtip',
            "processing": true,
            "serverSide": true,
            "iDisplayLength": 20,
        });

        $("#btnExport").click(function () {
            window.location = "/BatchAllotment/ExportToExcel";
        })
    });
</script>
@*/// Ended by Rumana on 17-04-2019*@
<section class="right_side_main_part">
    <div class="row-fluid">
        <div class="box span12 right_side_up_part">
            <div class="box-header">
                <h2>
                    <i class="icon-list-alt"></i>
                    <span class="break"></span>
                    SHOP STOCK BATCH ALLOTMENT FOR @Model.WarehouseName
                </h2>
            </div>
            <div class="box-content">
                <input type="button" id="btnExport" value="Export to Excel" class="btn btn-warning">@*/// Added by Rumana  on date 17-04-2019*@
                <table id="tblData" class="table table-bordered table-striped table-condensed display" width="100%">
                    <thead>
                        <tr>
                            <th>Sr.No.</th>
                            <th>Product</th>
                            <th>SKU ID</th>@*Added by Rumana*@
                            <th>Item</th>
                            <th>HSN Code</th>
                            <th style="text-align:center">AvailableQty</th>
                            <th style="text-align:center">In Shop Qty</th>
                            <th style="text-align:center">Reserve Qty(Order Pending)</th>
                            <th style="text-align:center">Reserve Qty(Order Placed)</th>
                            <th style="text-align:center">Reorder Level</th>
                            <th>Is Linked with Shop</th>
                            <th>Get All Batches</th>
                        </tr>
                    </thead>
                    @{var SrNo = 1;}
                    @for (int i = 0; i < Model.lWarehouseReorderLevelViewModel.Count; i++)
                    {
                        <tr>
                            <td>
                                @SrNo
                                @{
                                    SrNo = SrNo + 1;
                                }
                            </td>
                            <td class="table-shopping-cart-img" style="text-align: left;">
                                <img id=" imgproductimage" src="@Model.lWarehouseReorderLevelViewModel[i].StockThumbPath" onerror="this.src = '/Content/Images/no_image.png'" style="width: 50px; height:50px;" alt=" eZeelo " />
                            </td>
                            @*Added by Rumana*@
                            <td>
                                @Model.lWarehouseReorderLevelViewModel[i].ProductVarientID
                            </td>
                            <td>
                                @Model.lWarehouseReorderLevelViewModel[i].ItemName
                            </td>
                            <td>
                                @Model.lWarehouseReorderLevelViewModel[i].HSNCode
                            </td>
                            <td style="text-align:center">
                                @Html.LabelFor(model => @Model.lWarehouseReorderLevelViewModel[i].InStockQty, @Model.lWarehouseReorderLevelViewModel[i].InStockQty.ToString())
                            </td>
                            <td style="text-align:center">
                                @Html.LabelFor(model => @Model.lWarehouseReorderLevelViewModel[i].InShopQty, @Model.lWarehouseReorderLevelViewModel[i].InShopQty.ToString())
                            </td>
                            <td style="text-align:center">
                                @Html.LabelFor(model => @Model.lWarehouseReorderLevelViewModel[i].PendingQty, @Model.lWarehouseReorderLevelViewModel[i].PendingQty.ToString())
                            </td>
                            <td style="text-align:center">
                                @Html.LabelFor(model => @Model.lWarehouseReorderLevelViewModel[i].PlacedQty, @Model.lWarehouseReorderLevelViewModel[i].PlacedQty.ToString())
                            </td>
                            <td style="text-align:center">
                                @Html.LabelFor(model => @Model.lWarehouseReorderLevelViewModel[i].ReorderLevel, @Model.lWarehouseReorderLevelViewModel[i].ReorderLevel.ToString())
                            </td>
                            <td>
                                @if (@Model.lWarehouseReorderLevelViewModel[i].isAllottedToShop == true)
                                {
                                    <span style="color:green">Yes</span>
                                }
                                else
                                {
                                    <span style="color:red">No</span>
                                }
                                @Html.HiddenFor(model => @Model.lWarehouseReorderLevelViewModel[i].ShopStockID)
                            </td>
                            <td>
                                @Html.ActionLink("View Batches", "StockBatchwise", new { ID = @Model.lWarehouseReorderLevelViewModel[i].ID, ShopStockID = @Model.lWarehouseReorderLevelViewModel[i].ShopStockID }, new { @class = "btn btn-small btn-success" })
                            </td>
                        </tr>
                    }
                </table>
            </div>
        </div>
    </div>
</section>




