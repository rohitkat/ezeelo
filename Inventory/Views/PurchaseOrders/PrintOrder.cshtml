@model ModelLayer.Models.ViewModel.PurchaseOrderViewModel
@using ModelLayer.Models.ViewModel

@{
    Layout = null;
}


<script src="~/Content/js/jquery-1.11.0.min.js"></script>
<link href="~/Content/assets/css/style.css" rel="stylesheet" />
<script src="~/Content/js/jquery-1.9.1.min.js"></script>
<link href="http://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
<link href="~/Content/assets/css/form-design.css" rel="stylesheet" />
<link href="~/Content/assets/css/font-awesome.min.css" rel="stylesheet" />

<link href="~/Content/css/site.css" rel="stylesheet" />
<link href="~/Content/css/bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/css/bootstrap-responsive.min.css" rel="stylesheet" />

<link href="~/Content/css/style-responsive.css" rel="stylesheet" />
<link href="~/Content/css/halflings.css" rel="stylesheet" />
<link href="~/Content/css/jquery-ui-1.8.21.custom.css" rel="stylesheet" />
<link href="~/Content/css/jquery.cleditor.css" rel="stylesheet" />
<link href="~/Content/css/uniform.default.css" rel="stylesheet" />

<div>
    <div style="position:fixed; text-align:right; padding-left:20px">
        <input class="btn btn-primary" type="button" value="Print" id="btnPrint" />
    </div>
    <div id="dvContainer" style="padding-left: 50px; padding-right: 50px; border: solid 1px black">
        <div class="row-fluid">
            <div class="box span12">
                <div class="box-header" data-original-title="" style="text-align: center; font-family:Open Sans">
                    <h2>
                        PURCHASE ORDER
                    </h2>
                </div>
                <div class="box-content">
                    <div class="form-horizontal">
                        <table width="100%">
                            <tr>
                                <td style="padding-left: 10px; width: 40%">
                                    @*<div><img src="http://img.ezeelo.in/hpi/11187/26/1/8.png" style="height:60px;" /></div>
                                    <br />*@                                   
                                    <div class="display-label" style="font-family:Open Sans;font-size:x-large;color:navy"><b>@Model.WarehouseName</b> </div>
                                    <div class="display-label">@Model.WarehouseAddress </div>
                                    
                                    <div class="display-label"><i class="fa fa-phone"></i> @Model.WarehouseMobile </div>
                                    @*<div class="display-label"><b>eZeelo Consumer Services Private Limited</b></div>
                                    <div class="display-label">9A, 4th Floor ,JB Wing(Mangalwari Complex), </div>
                                    <div class="display-label">Magalwari Bazar,Sadar, Nagpur, Maharashtra,440001</div>
                                    <div class="display-label">Phone : 9172221910 </div>*@
                                </td>
                                <td style="text-align: left; width: 30%">
                                </td>
                                 <td style="text-align: left; width: 50%">
                                    <div class="display-label">PO Code: <b>@Model.PurchaseOrderCode</b></div>
                                    <div class="display-label">PO Date: <b>@Model.OrderDate.ToString("dd/MM/yyyy")</b></div>
                                    <div class="display-label">Expected Delivery Date: <b>@Model.ExpetedDeliveryDate.ToString("dd/MM/yyyy")</b></div>
                                    <div class="display-label">Supplier ID: <b>@Model.SupplierCode</b></div>
                                </td>
                            </tr>
                        </table>
                        <hr />
                    </div>
                </div>
            </div>

            <div class="box">

                <table width="100%">
                    <tr>
                        <td style="padding-left:10px; width:40%">
                            <div class="display-label"><b>Purchase From:</b></div>
                            <div class="display-label">@Model.SupplierName </div>
                            <div class="display-label">@Model.SupplierAddress</div>                         

                            <br />
                            <div class="display-label"><b>Contact Name:</b></div>
                            <div class="display-label">@Model.SupplierContactPerson</div>
                            <div class="display-label"><i class="fa fa-phone"></i> @Model.SupplierMobile</div>
                        </td>
                        <td style="text-align: left; width: 30%"></td>
                        <td style="width: 50%">
                            <div class="display-label"><b>Ship To:</b></div>
                            <div class="display-label">@Model.WarehouseName </div>
                            <div class="display-label">@Model.WarehouseAddress </div>  

                            <br />
                            <div class="display-label"><b>Contact Name:</b></div>
                            <div class="display-label">@Model.WarehouseContactPerson</div>
                            <div class="display-label"><i class="fa fa-phone"></i> @Model.WarehouseMobile </div>

                        </td>
                    </tr>
                </table>               
            </div>


            <div class="box">
                <div class="box-header" data-original-title="">
                    <h2></h2>
                </div>
                <div class="box-content">
                    <div class="NameDescription">
                        <div class="box-content box-content1" style="padding-left:0px;width:99%;z-index:1;">

                            @if (Session["lPurchaseOrderDetailsViewModel"] != null)
                            {
                                List<PurchaseOrderDetailsViewModel> objList = (List<PurchaseOrderDetailsViewModel>)Session["lPurchaseOrderDetailsViewModel"];

                                <table class="table table-striped table-bordered bootstrap-datatable datatable dataTable items" width="100%" cellpadding="1" cellspacing="0" border="1">
                                    <tr>
                                        <th style="text-align:center">#</th>
                                        <th>Product</th>
                                        <th style="text-align:left">Item Description</th>
                                        <th>HSN Code</th>
                                        @*<th>Nick Name</th>*@
                                        <th style="text-align:center">Quantity</th>
                                        <th style="text-align:center">Unit Price</th>
                                        <th style="text-align:center">Amount</th>
                                    </tr>
                                    @{
                                var i = 1;
                                    }
                                    @foreach (var item in objList)
                                    {
                                        <tr>
                                            <td style="text-align:center">
                                                @i
                                                @{
                                        i = i + 1;
                                                }
                                            </td>
                                            <td class="table-shopping-cart-img" style="text-align: left;">
                                                <img id=" imgproductimage" src="@item.StockThumbPath" onerror="this.src = '/Content/Images/no_image.png'" style="width: 70px; height:70px;" alt=" eZeelo " />
                                            </td>
                                            <td>@item.ItemName</td>
                                            <td>@item.HSNCode</td>
                                            @*<td>@item.Nickname</td>*@
                                            <td style="text-align:center">@item.Quantity</td>
                                            <td style="text-align:right"> @item.UnitPrice</td>
                                            <td style="text-align:right">@item.ProductAmount</td>
                                        </tr>
                                    }
                                </table>
                            }

                        </div>
                        <div>
                            <table width="100%">
                                <tr><td style="width:40%"><b>Authorized Signature:</b> <br />_________________________</td>
                                    <td style="width:20%"><b></b></td>
                                    <td style="width:40%; text-align:right;padding-right:15px"><b>Order Total: <i class="fa fa-inr"></i>  @Model.Amount</b></td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript">
    $("#btnPrint").live("click", function () {
        var divContents = $("#dvContainer").html();
        var printWindow = window.open('', '', 'height=400,width=800');
        printWindow.document.write('<html><head><title>PURCHASE ORDER</title>');
        printWindow.document.write('<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />');
        printWindow.document.write('</head><body >');
        printWindow.document.write(divContents);
        printWindow.document.write('</body></html>');
        printWindow.document.close();
        printWindow.print();        
    });   
</script>