@{
    ViewBag.Title = "NewIndex";
}

<link href="~/Content/css/bootstrap-responsive.min.css" rel="stylesheet" />
<link href="~/Content/css/style-responsive.css" rel="stylesheet" />
<div class="outerDiv">
    <h2>Welcome Letter</h2>

    <div class="MainDiv">


        <div class="innerDiv">
            <span style="font-weight:bold;">Select Merchant </span>
            <div>
                @Html.Hidden("franchiseID", ViewData["Franchise"])
                @Html.DropDownList("MerchantID", (SelectList)ViewData["MerchantID"], "Select Merchant", new { @class = "select" })
            </div>
        </div>
    </div>
    <div style="clear:both;"></div>
    <div id="pageloaddiv"></div>
</div>
<div id="divSpecification">
</div>
<script src="~/Scripts/jquery-1.10.2.js"></script>
<script>

    $(function () {


        $('#MerchantID').change(function (e) {

            var franchiseID = $("#franchiseID").val();
            var MerchantID = $("#MerchantID option:selected").val();
            /*Processing Image*/
            $("#pageloaddiv").css('display', 'block');
            $("#pageloaddiv").fadeOut(1000);

            $.get('/WelcomeLetter/WelcomeLetter_Containt/?franchiseID=' + franchiseID + '&MerchantID=' + MerchantID, function (data) {
                /* data is the pure html returned from action method, load it to your page */
                $('#divSpecification').html(data);

                /* little fade in effect */
                $('#divSpecification').fadeIn('fast');
            });

            $("#pageloaddiv").css('display', 'none');
            $("#pageloaddiv").fadeOut(1000);
        });


    });
</script>
<style>
    .select {
        width: 220px;
        background-color: #fff;
        border: 1px solid #ccc;
    }

    .outerDiv {
        background-color: #fff;
        border: 1px solid #ccc;
        margin: 35px;
        margin-bottom: 1px;
    }

    #divSpecification {
        background-color: #fff;
        border: 1px solid #ccc;
        margin: 35px;
        margin-top: 1px;
    }

    .outerDiv h2 {
        font-size: 19px;
        line-height: 20px;
        margin-left: 27px;
        color: #646A72;
    }

    .MainDiv {
        background-color: #fff;
        border: 1px solid #ccc;
    }

    .innerDiv {
        float: left;
        margin-left: 27px;
        margin-top: 14px;
        margin-bottom: 14px;
    }

    #content {
        width: 100%;
        padding: 0px;
        margin: 0px 0px;
        margin-left: 0 !important;
    }

    .box-content {
        position: relative;
        z-index: 50;
        margin-top: -1px;
        padding: 27px;
        background: #fff !important;
    }

    #pageloaddiv {
        position: fixed;
        left: 0px;
        top: 0px;
        width: 100%;
        height: 100%;
        z-index: 1000;
        background: url('../Content/Images/ajax_loader.gif') no-repeat center center;
        background-size: 100px;
        display: none;
    }
</style>