@model ModelLayer.Models.Franchise

@{
    ViewBag.Title = "Edit";
    Layout = null;
}

<link href="~/Content/css/style_asset.css" rel="stylesheet" />
<script src="~/Content/assets/js/jquery.easing.min.js"></script>
<link href="http://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
@*<link href="~/Content/assets/css/form-design.css" rel="stylesheet" />*@
<link href="~/Content/css/Site.css" rel="stylesheet" />

<style>
    .field-validation-error {
        color: #b94a48;
    }

    .alert-danger {
        color: #b94a48;
        width: 135px !important;
    }

    .succes-msg {
        color: #125400;
        font-size: 20px;
    }
</style>


<div id="content" class="span10">
    <div style="margin-top:20px;">
        @if (ViewBag.Message != null)
        {
            <span class="succes-msg" style="margin: 0 12px;">@ViewBag.Message</span>
        }
    </div>
    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()

        <div class="row-fluid">
            <div class="box span12">
                <div class="box-content">
                    <form class="form-horizontal" id="msform1">

                        <div class="form-horizontal" id="msform1">
                            @Html.ValidationMessage("Message")
                            @Html.ValidationSummary(true)
                            @Html.HiddenFor(model => model.ID)

                            @*<div class="control-group">
                                @Html.LabelFor(model => model.UserLoginID, "UserLoginID", new { @class = "control-label col-md-2" })*@
                            @*<div class="">*@
                            @*@Html.("UserLoginID", String.Empty)
                                      @Html.ValidationSummary(true)
                                        @Html.HiddenFor(model => model.ID)

                                    </div>
                                </div>*@
                            <div class="control-group mrg-btm">
                                <div class="NameDescription">
                                    @*<div class="control-group  mrg-left">
                                        @Html.LabelFor(model => model.UserLoginID, "UserLoginID", new { @class = "control-label col-md-2" })*@
                                    @*<div class="salutationList">*@
                                    @*@Html.DropDownList("UserLoginID", String.Empty)
                                                @Html.HiddenFor(model => model.UserLoginID)
                                                @Html.ValidationMessageFor(model => model.UserLoginID)
                                            </div>
                                        </div>*@

                                    @*<div class="control-group mrg-left">
                                            @Html.LabelFor(model => model.BusinessDetailID, "Business Detail Name", new { @class = "col-md-2" })
                                            <div class="">
                                                @Html.EditorFor(model => model.BusinessDetail.Name)
                                                @Html.ValidationMessageFor(model => model.BusinessDetailID)
                                            </div>
                                        </div>*@

                                    @*<div class="control-group mrg-left">
                                        @Html.LabelFor(model => model.BusinessTypeID, "BusinessTypeID", new { @class = "control-label col-md-2" })*@
                                    @*<div class="">*@
                                    @*@Html.DropDownList("BusinessTypeID", String.Empty
                                                @Html.HiddenFor(model => model.BusinessTypeID)
                                                @Html.ValidationMessageFor(model => model.BusinessTypeID)
                                            </div>
                                        </div>)*@

                                    <div class="control-group mrg-left">
                                        @Html.LabelFor(model => model.ServiceNumber, new { @class = "col-md-2" })
                                        <div class="">
                                            @Html.TextBoxFor(model => model.ServiceNumber, new { @maxlength = 15, @onkeydown = "return ValidateAlphaNumeric(event);" })
                                            @Html.ValidationMessageFor(model => model.ServiceNumber)
                                        </div>
                                    </div>
                                    <div class="control-group mrg-left">
                                        @Html.LabelFor(model => model.ContactPerson, new { @class = "col-md-2" })
                                        <div class="">
                                            @Html.TextBoxFor(model => model.ContactPerson, new { required = "required" })
                                            @Html.ValidationMessageFor(model => model.ContactPerson)
                                        </div>
                                    </div>
                                    <div class="clr"></div>
                                </div>
                            </div>
                            <div class="control-group mrg-btm">
                                <div class="NameDescription">
                                    <div class="control-group  mrg-left">
                                        @Html.LabelFor(model => model.Mobile, new { @class = "col-md-2" })
                                        <div class="">
                                            @Html.TextBoxFor(model => model.Mobile, new { required = "required", @onkeydown = "return ValidateNumber(event);", @onchange = "return ValidateMobile(this);", @autocomplete = "off", maxlength = 10, minlength = 10 })
                                            @Html.ValidationMessageFor(model => model.Mobile)
                                            <div id="divMobileError" style="width:400px; display: none; padding:5px" class="alert-danger focused">  </div>
                                         
                                        </div>

                                    </div>

                                    <div class="control-group  mrg-left">
                                        @Html.LabelFor(model => model.Email, new { @class = "col-md-2" })
                                        <div class="">
                                            @*@Html.EditorFor(model => model.Gender)*@
                                            @Html.TextBoxFor(model => model.Email, new { required = "required", @onchange = "return ValidateEmail(this);", @autocomplete = "off" })
                                            <div id="divEmailError" style="width:400px; display: none; padding:5px" class="alert-danger focused">  </div>
                                            @Html.ValidationMessageFor(model => model.Email)
                                        </div>

                                    </div>
                                    <div class="control-group mrg-left">
                                        @Html.LabelFor(model => model.Landline, new { @class = "col-md-2" })
                                        <div class="">
                                            @Html.EditorFor(model => model.Landline)
                                            @Html.ValidationMessageFor(model => model.Landline)
                                        </div>
                                    </div>


                                    <div class="clr"></div>
                                </div>
                            </div>
                            @*<div class="control-group mrg-left">
                                                                @Html.LabelFor(model => model.Address)
                                    <div class="">
                                        @Html.TextAreaFor(model => model.Address, new { @class = "discrip_box max-width" })
                                        @Html.ValidationMessageFor(model => model.Address)
                                    </div>
                                </div>*@
                            <div class="control-group mrg-btm">
                                <div class="NameDescription">
                                    <div class="control-group  mrg-left">
                                        @Html.LabelFor(model => model.PincodeID, "Pincode")

                                        <div class="">
                                            @Html.TextBox("Pincode", null, new { @id = "Pincode", @class = "form-control-Widout-block form-control  pull-left wdth-large mrg-leftSm", @placeholder = "Enter Pincode", @onkeydown = "return ValidateNumber(event);", @onchange = "return ValidatePincode()", required = "required", maxlength = 6 })
                                            <img id="Pincode_loading" src="~/Content/img/ajax_loader.gif" style="width: 30px; height: 30px; display: none" />
                                            <div id="divPincodeError" style="width:10px; display: none; padding:5px" class="alert-danger focused"> </div>
                                        </div>
                                    </div>

                                    <div class="control-group  mrg-left">
                                        @Html.LabelFor(model => model.FAX, new { @class = "col-md-2" })
                                        <div class="">
                                            @Html.EditorFor(model => model.FAX)
                                            @Html.ValidationMessageFor(model => model.FAX)
                                        </div>
                                    </div>
                                    @*<div class="control-group  mrg-left">
                                            @Html.LabelFor(model => model.Address, new { @class = "col-md-2" })
                                            <div class="col-md-10">
                                                @Html.EditorFor(model => model.Address, new { @class = "discrip_box max-width" })
                                                @Html.ValidationMessageFor(model => model.Address)
                                            </div>
                                        </div>*@
                                </div>
                                <div class="clr"></div>
                                <div style="margin-top:20px" class="mrg-left">
                                    <div class="control-group clearfix">
                                        @Html.LabelFor(model => model.Address, new { @class = "span2 add" })
                                        <div class="">
                                            @Html.TextAreaFor(model => model.Address, new { @class = "discrip_box max-width" })
                                            @Html.ValidationMessageFor(model => model.Address)
                                        </div>
                                    </div>
                                </div>
                                @*<div class="control-group  mrg-left">
                                        <label class="checkbox inline">
                                            <div id="uniform-inlineCheckbox1" class="">
                                                <span>
                                                    @Html.EditorFor(model => model.IsActive, new { @class = "isAct" })
                                                    @Html.ValidationMessageFor(model => model.IsActive)
                                                </span>
                                            </div>@Html.LabelFor(model => model.IsActive, new { @class = "col-md-2" })
                                        </label>
                                    </div>*@

                                @*<div class="control-group  mrg-left">
                                        @Html.LabelFor(model => model.PincodeID, "PincodeID", new { @class = "control-label col-md-2" })
                                        <div class="col-md-10">
                                            @Html.DropDownList("PincodeID", String.Empty)
                                            @Html.ValidationMessageFor(model => model.PincodeID)
                                        </div>
                                    </div>*@

                                <div class="clr"></div>
                            </div>

                            <div class="clr"></div>





                            @*<div class="form-group">
                                    @Html.LabelFor(model => model.IsActive, new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.IsActive)
                                        @Html.ValidationMessageFor(model => model.IsActive)
                                    </div>
                                </div>*@

                            @*    <div class="form-group">
                                     @Html.LabelFor(model => model.ModifyDate, new { @class = "control-label col-md-2" })
                                     <div class="col-md-10">
                                         @Html.EditorFor(model => model.ModifyDate)
                                         @Html.HiddenFor(model => model.CreateDate)
                                         @Html.ValidationMessageFor(model => model.ModifyDate)
                                     </div>
                                 </div>

                                <div class="form-group">
                                     @Html.LabelFor(model => model.ModifyBy, "ModifyBy", new { @class = "control-label col-md-2" })
                                     <div class="col-md-10">
                                         @Html.DropDownList("ModifyBy", String.Empty)
                                         @Html.ValidationMessageFor(model => model.ModifyBy)
                                     </div>
                                 </div>

                                 <div class="form-group">
                                     @Html.LabelFor(model => model.NetworkIP, new { @class = "control-label col-md-2" })
                                     <div class="col-md-10">
                                         @Html.EditorFor(model => model.NetworkIP)
                                         @Html.ValidationMessageFor(model => model.NetworkIP)
                                     </div>
                                 </div>

                                 <div class="form-group">
                                     @Html.LabelFor(model => model.DeviceType, new { @class = "control-label col-md-2" })
                                     <div class="col-md-10">
                                         @Html.EditorFor(model => model.DeviceType)
                                         @Html.ValidationMessageFor(model => model.DeviceType)
                                     </div>
                                 </div>

                                 <div class="form-group">
                                     @Html.LabelFor(model => model.DeviceID, new { @class = "control-label col-md-2" })
                                     <div class="col-md-10">
                                         @Html.EditorFor(model => model.DeviceID)
                                         @Html.ValidationMessageFor(model => model.DeviceID)
                                     </div>
                                 </div>*@


                            <div class="control-group mrg-btm">
                                <div class="mrg-left">
                                    <div class="">
                                        <input type="submit" value="Save" class="btn btn-primary btn-franch" />
                                        @*<input type="button" name="next" class="btn next action-button btn-success" value="Next" />*@
                                    </div>
                                </div>
                            </div>
                        </div>



                        @*<fieldset>
                                <h2 class="fs-title">Social Profiles</h2>
                                <h3 class="fs-subtitle">Your presence on the social network</h3>
                                <input type="text" name="twitter" placeholder="Twitter" />
                                <input type="text" name="facebook" placeholder="Facebook" />
                                <input type="text" name="gplus" placeholder="Google Plus" />
                                <input type="button" name="previous" class="previous action-button" value="Previous" />
                                <input type="button" name="next" class="next action-button" value="Next" />
                            </fieldset>*@
                        @*<fieldset>
                                <h2 class="fs-title">Personal Details</h2>
                                <h3 class="fs-subtitle">We will never sell it</h3>
                                <input type="text" name="fname" placeholder="First Name" />
                                <input type="text" name="lname" placeholder="Last Name" />
                                <input type="text" name="phone" placeholder="Phone" />
                                <textarea name="address" placeholder="Address"></textarea>
                                <input type="button" name="previous" class="previous action-button" value="Previous" />
                                <input type="submit" name="submit" class="submit action-button" value="Submit" />
                            </fieldset>*@
                    </form>
                </div>
            </div>
        </div>
    }
</div>

<script src="~/Content/js/jquery-2.1.3.min.js"></script>
<script type="text/javascript">
    //alert("1");

    //alert("2");
    $('#Pincode').bind('input propertychange', function () {
        var lPincode = $('#Pincode').val();
        $('#divPincodeError').hide();

        if (lPincode.length == 6) {
            $('#Pincode_loading').show();
            $.ajax({
                url: '@Url.Action("GetAddress", "BusinessDetail")?Pincode=' + lPincode,
                type: "GET",
                success: function (result) {
                    //$('#divAddress').html(result);
                    $('#Pincode_loading').hide();
                    $('#divPincodeError').hide();
                    if (result == "1") {
                        $('#divPincodeError').show();
                        $('#divPincodeError').html('Pincode [' + lPincode + '] dose not exist, please Contact to ADMIN');
                        $('#Pincode').val('');
                    }
                },
                error: function (data) {
                    //alert('Pincode : ' + lPincode + ' Dose Not Exist, please Contact to ADMIN');
                    //$('#divAddress').empty();
                    //$('#Pincode_loading').hide();
                    $('#divPincodeError').hide();
                    //$('#divPincodeError').html('Pincode [' + lPincode + '] dose not exist, please Contact to ADMIN');
                    //$('#Pincode').val('');
                }
            });
        }
    });

</script>
<script src="~/Content/js/Validation.js"></script>
