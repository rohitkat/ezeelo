@model ModelLayer.Models.ViewModel.LeadersProfileViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LeaderUsersLayout.cshtml";
}

<!-- Font Awesome JS -->


<link href="~/Templates/UsersTemplate/css/material-design.minfd53.css" rel="stylesheet" />

<link rel="stylesheet" href="~/Templates/UsersTemplate/css/style3.css">
<link rel="stylesheet" href="~/Templates/UsersTemplate/css/dropify.minfd53.css">
<link rel="stylesheet" href="~/Templates/UsersTemplate/css/custom.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<title>leaders Ezeelo</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>


<style>
    .hover-zoom {
        -moz-transition: all 0.3s;
        -webkit-transition: all 0.3s;
        transition: all 0.3s
    }

        .hover-zoom:hover {
            -moz-transform: scale(1.1);
            -webkit-transform: scale(1.1);
            transform: scale(2.1)
        }

    .lightbox {
        /** Default lightbox to hidden */
        display: none;
        /** Position and style */
        position: fixed;
        z-index: 999;
        width: 100%;
        height: 100%;
        text-align: center;
        top: 0;
        left: 0;
        background: rgba(0,0,0,0.8);
    }

        .lightbox img {
            /** Pad the lightbox image */
            max-width: 90%;
            max-height: 80%;
            margin-top: 2%;
        }

        .lightbox:target {
            /** Remove default browser outline */
            outline: none;
            /** Unhide lightbox **/
            display: block;
        }
</style>
<main>
    <header></header>


    <!-- <section class="sideNavbar">
         <div class="wrapper">-->
    <!-- Sidebar  -->
    <!-- Page Content  -->

    <section class="mainProfileContent">
        <div class="container-fluid">
            <div class="ProfileMainInnerContent">
                @if (@TempData["Alert"] != null)
                {
                    <div class="alert alert-success alert-dismissible">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        <strong>Success!</strong> @TempData["Alert"]
                    </div>
                }
                @if (@TempData["meassage"] != null)
                {
                    <div class="alert alert-warning alert-dismissible">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        <strong>Warning!!</strong><h5>@TempData["meassage"]</h5>
                    </div>
                }
                <div class="profileLeft col-lg-3 col-md-3 col-sm-3 col-xs-12">
                    <div class="card card-shadow text-center">
                        <div class="card-block">
                            <div class="dropify-wrapper touch-fallback">
                                <a class="avatar avatar-lg" id="profile-pic">
                                    <img id="imgProfile" src="https://www.amcorro.com/wp-content/uploads/2013/05/user-icon-1.png" alt="..." />

                                    <input type="file" class="dropify KYCUploadinput" name="adhaar" data-show-remove="false" id="profilePic" onchange="profilePic(this);" >
                                    @*<input type="file" class="dropify KYCUploadinput" name="adhaar" data-show-remove="false" id="profilePic">*@

                                </a>
                            </div>
                            @Html.HiddenFor(modelItem => Model.UserID)
                            <h4 class="profile-user" id="name-head">@Html.DisplayFor(modelItem => Model.FullName) </h4>
                            <p class="profile-job">@Html.DisplayFor(modelItem => Model.RefferelID)</p>

                            <div class="profile-social">
                                <!-- <a class="icon bd-twitter" href="javascript:void(0)"></a>
                                <a class="icon bd-facebook" href="javascript:void(0)"></a>
                                <a class="icon bd-instagram" href="javascript:void(0)"></a> -->

                                <a class="icon bd-twitter" href="https://twitter.com/eZeeloCom" target="_blank">
                                    <figure>
                                        @*<img src="~/Templates/UsersTemplate/img/twitter.png" />*@
                                        <img src="~/Templates/UsersTemplate/img/twitter.png" />
                                    </figure>
                                </a>


                                <a class="icon bd-facebook" href="https://www.facebook.com/ezeelocom/" target="_blank">
                                    <figure>
                                        <img src="~/Templates/UsersTemplate/img/fb.png" />
                                    </figure>
                                </a>


                                <a class="icon bd-instagram" href="https://www.instagram.com/ezeelocom/" target="_blank">
                                    <figure>
                                        <img src="~/Templates/UsersTemplate/img/insta.png" />
                                    </figure>
                                </a>

                            </div>
                        </div>
                        <div class="card-footer">
                            <div class="row no-space">
                                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 ">
                                    <strong class="profile-stat-count">
                                        @Html.DisplayFor(m => m.TotalMember)
                                    </strong>
                                    <span>Members</span>
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 ">
                                    <strong class="profile-stat-count">
                                        <figure>
                                            <img src="~/Templates/UsersTemplate/img/E.png" />
                                        </figure>@Html.DisplayFor(m => m.ERP)
                                    </strong>
                                    <span>ERP</span>
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 ">
                                    <strong class="profile-stat-count">
                                        <figure>
                                            <img src="~/Templates/UsersTemplate/img/rupay.png" />
                                            @*<img src="~/Templates/UsersTemplate/img/E.png" />*@
                                        </figure>0.0
                                    </strong>
                                    <span class="">Avg. Income</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <div class="profileRight col-lg-9 col-md-9 col-sm-9 col-xs-12">
                    <div class=" tab">
                        <button id="btnLondon" class="active tablinks" onclick="openCity(event, 'London')">Personal Details</button>
                        <button id="btnParis" class="tablinks" onclick="openCity(event, 'Paris')">Bank & KYC Details</button>
                    </div>

                    <div id="London" class="tabcontent Personal_details">
                        <div class="tab-pane active animation-slide-left" id="p_details" role="tabpanel">
                            <div class="container-fluid">
                                <div class="edit-button" id="btnUpdate1">
                                    <i class="fa fa-pencil-square">@Html.ActionLink("Update", "Update", new { id = Model.UserID })</i>
                                </div>
                                <div class="ezeelo-table table-responsive p-xs-0 pt-sm-50">
                                    <table class="table personal">
                                        <!-- <thead>
                                                    <tr>
                                                        <th>#</th>
                                                        <th>First Name</th>
                                                        <th>Last Name</th>
                                                        <th>Username</th>
                                                        <th>Role</th>
                                                    </tr>
                                                </thead> -->
                                        <tbody class="form-group form-material">
                                            <tr>
                                                <td class="heading" data-input="name">
                                                    <i class="fa fa-user-circle"></i>&nbsp;&nbsp;Name:
                                                </td>
                                                <td class="details" id="name-input">@Html.DisplayFor(modelItem => Model.FullName)</td>
                                            </tr>
                                            <tr>
                                                <td class="heading" data-input="phone">
                                                    <i class="fa fa-mobile" aria-hidden="true"></i>&nbsp;&nbsp;Phone Number:
                                                </td>
                                                <td class="details verification" id="mobile">@Html.DisplayFor(modelItem => Model.Mobile)</td>
                                            </tr>
                                            <tr>
                                                <td class="heading" data-input="email-disabled">
                                                    <i class="fa fa-envelope"></i>&nbsp;&nbsp;Email:
                                                </td>
                                                <td class="details">@Html.DisplayFor(modelItem => Model.Email)</td>
                                            </tr>
                                            <tr>
                                                <td class="heading" data-input="address">
                                                    <i class="fa fa-map-marker"></i>&nbsp;&nbsp;Address:
                                                </td>
                                                <td class="details">@Html.DisplayFor(modelItem => Model.Address)</td>
                                            </tr>
                                            <tr>
                                                <td class="heading" data-input="ref_id">
                                                    <i class="fa fa-envelope"></i>&nbsp;&nbsp;Referral ID:
                                                </td>
                                                <td class="details verification" id="Ref_ID">@Html.DisplayFor(modelItem => Model.RefferelID)</td>
                                            </tr>
                                            <tr>
                                                <td class="heading" data-input="dob">
                                                    <i class="fa fa-calendar"></i>&nbsp;&nbsp;Date of Birth:
                                                </td>
                                                <td class="details" data-filter="dob">@Html.DisplayFor(modelItem => Model.DOB)</td>
                                            </tr>
                                            <tr>
                                                <td class="heading" data-input="gender">
                                                    <i class="fa fa-venus-mars"></i>&nbsp;&nbsp;Gender:
                                                </td>
                                                <td class="details" data-filter="gender">@Html.DisplayFor(modelItem => Model.Gender)</td>
                                            </tr>
                                            <!-- <tr>
                                                        <td class="heading"><i class="fa fa-map-marker"></i>&nbsp;&nbsp;Address:</td>
                                                        <td class="details">Teagan</td>
                                                    </tr> -->
                                            <tr>
                                                <td class="heading" data-input="pincode">
                                                    <i class="fa fa-map-pin"></i>&nbsp;&nbsp;Pincode:
                                                </td>
                                                <td class="details" data-filter="pincode">@Html.DisplayFor(modelItem => Model.Pincode)</td>
                                            </tr>

                                            <tr>
                                                <td class="heading" data-input="city">
                                                    <i class="fa fa-map-marker"></i>&nbsp;&nbsp;City:
                                                </td>
                                                <td class="details">@Html.DisplayFor(modelItem => Model.City)</td>
                                            </tr>

                                            <tr>
                                                <td class="heading" data-input="district">
                                                    <i class="fa fa-map-marker"></i>&nbsp;&nbsp;District:
                                                </td>
                                                <td class="details">@Html.DisplayFor(modelItem => Model.District)</td>
                                            </tr>

                                            <tr>
                                                <td class="heading" data-input="state">
                                                    <i class="fa fa-map-marker"></i>&nbsp;&nbsp;State:
                                                </td>
                                                <td class="details">@Html.DisplayFor(modelItem => Model.State)</td>
                                            </tr>

                                        </tbody>
                                    </table>
                                </div>

                            </div>

                        </div>
                    </div>

                    <div id="Paris" class="tabcontent Bank&KYC">
                        <div class="tab-pane animation-slide-left active" id="E-Wallet" role="tabpanel">
                            <div class="container-fluid">
                                @if (!Model.IsVerified)
                                {
                                    <div class="edit-button update2btn">
                                        <i class="fa fa-pencil-square" id="btnUpdate1"></i>@Html.ActionLink("Update", "UpdateBankDetails")
                                    </div>
                                }
                                <div class="ezeelo-table table-responsive p-xs-0 pt-sm-50">
                                    <table class="table">
                                        <!-- <thead>
                <tr>
                  <th>#</th>
                  <th>First Name</th>
                  <th>Last Name</th>
                  <th>Username</th>
                  <th>Role</th>
                </tr>
              </thead> -->
                                        <tbody class="form-group form-material">
                                            @*----amit on 18-1-19----*@
                                            <tr>
                                                <td class="heading" data-input="bankname">
                                                    <i class="fa fa-building"></i>&nbsp;&nbsp;Benificiary Name:
                                                </td>
                                                <td class="details" data-filter="bankname" data-bank-id="-">@Html.DisplayFor(modelItem => Model.BenificiaryName)</td>
                                            </tr>
                                            @*---end---*@
                                            <tr>
                                                <td class="heading" data-input="bankname">
                                                    <i class="fa fa-building"></i>&nbsp;&nbsp;Bank:
                                                </td>
                                                <td class="details" data-filter="bankname" data-bank-id="-">@Html.DisplayFor(modelItem => Model.BankName)</td>
                                            </tr>

                                            <tr>
                                                <td class="heading" data-input="bankname">
                                                    <i class="fa fa-building"></i>&nbsp;&nbsp;Branch Name:
                                                </td>
                                                <td class="details" data-filter="bankname" data-bank-id="-">@Html.DisplayFor(modelItem => Model.BranchName)</td>
                                            </tr>
                                            <tr>
                                                <td class="heading" data-input="banknumber">
                                                    <i class="fa fa-sort-numeric-asc"></i>&nbsp;&nbsp;Account Number:
                                                </td>
                                                <td class="details">@Html.DisplayFor(modelItem => Model.AccountNumber)</td>
                                            </tr>
                                            <tr>
                                                <td class="heading" data-input="bankifsc">
                                                    <i class="fa fa-id-badge"></i>&nbsp;&nbsp;Bank IFSC:
                                                </td>
                                                <td class="details verification" id="ifsc_code">@Html.DisplayFor(modelItem => Model.IFSC)</td>
                                            </tr>
                                            <tr>
                                                <td class="heading" data-input="accounttype">
                                                    <i class="fa fa-files-o"></i>&nbsp;&nbsp;Account Type:
                                                </td>
                                                <td class="details" data-filter="accounttype">@Html.DisplayFor(modelItem => Model.AccountType)</td>
                                            </tr>
                                            <tr>
                                                <td class="heading" data-input="aadhar">
                                                    <i class="fa fa-id-card"></i>&nbsp;&nbsp;Aadhar Card No:
                                                </td>
                                                <td class="details">@Html.DisplayFor(modelItem => Model.AdharCardNo)</td>
                                            </tr>
                                            <tr>
                                                <td class="heading" data-input="pancard">
                                                    <i class="fa fa-id-card"></i>&nbsp;&nbsp;Pan Card:
                                                </td>
                                                <td class="details">@Html.DisplayFor(modelItem => Model.PAN)</td>
                                            </tr>
                                            @*----amit on 18-1-19---*@
                                            <tr>
                                                <td class="heading" data-input="pancard">
                                                    <i class="fa fa-id-card"></i>&nbsp;&nbsp;Pan Card:
                                                </td>
                                                <td class="details">@Html.DisplayFor(modelItem => Model.BenificiaryEmail)</td>
                                            </tr>
                                            @*---end---*@




                                        </tbody>
                                    </table>
                                    <div class="row mt-30">
                                        <div class="col-xs-4 col-sm-4 col-md-4">
                                            <p>Adhaar Card Image</p>
                                            <div class="dropify-wrapper touch-fallback hover-zoom">
                                                <div class="dropify-message">

                                                    @*<span class="file-icon"><figure><img src="@Url.Content(@Model.AdhaarImageUrl)" alt=" image"></figure></span>*@
                                                    <span class="file-icon ">
                                                        <figure>

                                                            @if (Model.AdhaarImageUrl != null)
                                                            {

                                                                <img id="imgAadhar" class="" src="@Model.AdhaarImageUrl" onerror="this.src = '/Content/Images/no_image.png'" alt=" eZeelo ">
                                                            }
                                                            else
                                                            {
                                                                <img id="imgAadhar" src="/Content/Images/no_image.png" alt=" eZeelo ">
                                                            }

                                                        </figure>
                                                    </span>
                                                </div>
                                                <div class="dropify-loader"></div>
                                                <div class="dropify-errors-container">
                                                    <ul></ul>
                                                </div>
                                                @*<input type="file" class="dropify KYCUploadinput" name="adhaar" data-show-remove="false">*@
                                                <div class="dropify-preview">
                                                    <span class="dropify-render"></span>
                                                    <div class="dropify-infos">
                                                        <div class="dropify-infos-inner">
                                                            <p class="dropify-filename">
                                                                <span class="file-icon"></span>
                                                                <span class="dropify-filename-inner"></span>
                                                            </p>
                                                            <p class="dropify-infos-message"></p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-4 col-sm-4 col-md-4">
                                            <p>PAN Card Image</p>
                                            <div class="dropify-wrapper touch-fallback hover-zoom">
                                                <div class="dropify-message">
                                                    <span class="file-icon">

                                                        <figure>

                                                            @if (Model.PANImage != null)
                                                            {
                                                                <img id="imgAadhar" src="@Model.PANImage" onerror="this.src = '/Content/Images/no_image.png'" alt=" eZeelo ">
                                                            }
                                                            else
                                                            {
                                                                <img id="imgAadhar" src="/Content/Images/no_image.png" alt=" eZeelo ">
                                                            }
                                                        </figure>


                                                    </span>
                                                </div>
                                                <div class="dropify-loader"></div>
                                                <div class="dropify-errors-container">
                                                    <ul></ul>
                                                </div>
                                                @*<input type="file" class="dropify KYCUploadinput" name="pan" data-show-remove="false">*@
                                                <div class="dropify-preview">
                                                    <span class="dropify-render"></span>
                                                    <div class="dropify-infos">
                                                        <div class="dropify-infos-inner">
                                                            <p class="dropify-filename">
                                                                <span class="file-icon"></span>
                                                                <span class="dropify-filename-inner"></span>
                                                            </p>
                                                            <p class="dropify-infos-message"></p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-4 col-sm-4 col-md-4">
                                            <p>Passbook Image</p>
                                            <div class="dropify-wrapper touch-fallback hover-zoom">
                                                <div class="dropify-message">
                                                    <span class="file-icon">

                                                        <figure>

                                                            @if (Model.PassbookImage != null)
                                                            {
                                                                <img id="imgAadhar" src="@Model.PassbookImage" onerror="this.src = '/Content/Images/no_image.png'" alt=" eZeelo ">
                                                            }
                                                            else
                                                            {
                                                                <img id="imgAadhar" src="/Content/Images/no_image.png" alt=" eZeelo ">
                                                            }
                                                        </figure>


                                                    </span>
                                                </div>
                                                <div class="dropify-loader"></div>
                                                <div class="dropify-errors-container">
                                                    <ul></ul>
                                                </div>
                                                @*<input type="file" class="dropify KYCUploadinput" name="passbook" data-show-remove="false">*@
                                                <div class="dropify-preview">
                                                    <span class="dropify-render"></span>
                                                    <div class="dropify-infos">
                                                        <div class="dropify-infos-inner">
                                                            <p class="dropify-filename">
                                                                <span class="file-icon"></span>
                                                                <span class="dropify-filename-inner"></span>
                                                            </p>
                                                            <p class="dropify-infos-message"></p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-xs-4 col-sm-4 col-md-4">
                                            <p>Scan KYC Form</p>
                                            <div class="dropify-wrapper touch-fallback hover-zoom">
                                                <div class="dropify-message">
                                                    <span class="file-icon">

                                                        <figure>

                                                            @if (Model.KYCForm != null)
                                                            {
                                                                <img id="imgAadhar" src="@Model.KYCForm" onerror="this.src = '/Content/Images/no_image.png'" alt=" eZeelo ">


                                                            }
                                                            else
                                                            {
                                                                <img id="imgAadhar" src="/Content/Images/no_image.png" alt=" eZeelo ">

                                                            }
                                                        </figure>


                                                    </span>
                                                </div>
                                                <div class="dropify-loader"></div>
                                                <div class="dropify-errors-container">
                                                    <ul></ul>
                                                </div>

                                                <div class="dropify-preview">
                                                    <span class="dropify-render"></span>
                                                    <div class="dropify-infos">
                                                        <div class="dropify-infos-inner">
                                                            <p class="dropify-filename">
                                                                <span class="file-icon"></span>
                                                                <span class="dropify-filename-inner"></span>
                                                            </p>
                                                            <p class="dropify-infos-message"></p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                            </div>


                        </div>
                    </div>
                    <script>
                        function openCity(evt, cityName) {

                            var i, tabcontent, tablinks;
                            tabcontent = document.getElementsByClassName("tabcontent");
                            for (i = 0; i < tabcontent.length; i++) {
                                tabcontent[i].style.display = "none";
                            }
                            tablinks = document.getElementsByClassName("tablinks");
                            for (i = 0; i < tablinks.length; i++) {
                                tablinks[i].className = tablinks[i].className.replace(" active", "");
                            }
                            document.getElementById(cityName).style.display = "block";
                            evt.currentTarget.className += " active";
                            if (event.target.id == "btnLondon") {
                                $("#btnParis").removeClass("active");
                            } else {
                                $("#btnLondon").removeClass("active");
                            }
                        }



                        
                    </script>

                    @*<script>
                        function readfile2(input)
                        {
                            alert("hhh");
                            if (input.files && input.files[0]) {
                                var reader = new FileReader();

                                reader.onload = function (e) {
                                    $('#imgProfile').attr('src', e.target.result);
                                }

                                reader.readAsDataURL(input.files[0]);
                            }

                            debugger
                            //var $formData = new FormData();
                            //var fileUpload = $("#profilePic").get(0);

                            //var files = fileUpload.files;
                            
                            //var $file = document.getElementById('profilePic'),
                            //    //$formData = new FormData();

                            //if (files.length > 0)
                            //{
                            //    for (var i = 0; i < $file.files.length; i++)
                            //    {
                            //        $formData.append('file-' + i, $file.files[i]);
                            //    }
                            //}
                            //var totalFiles = document.getElementById("profilePic").files.length;

                            //for (var i = 0; i < totalFiles; i++) {
                            //    alert("hihihi")
                            //    var file = document.getElementById("profilePic").files[i];
                            //    formData.append("profilePic", file);
                            //}

                            var formData = new FormData();
                            var totalFiles = document.getElementById("profilePic").files.length;
                            for (var i = 0; i < totalFiles; i++) {
                                var file = document.getElementById("profilePic").files[i];
                                formData.append("profilePic", file);
                            }

                            $.ajax({
                                type: "POST",
                                url: '/LeadersProfile/UploadProfile',
                                data: { FileName: formData },
                                    dataType: 'json',
                                    contentType: false,
                                    processData: false
                                    //success: function(response) {
                                    //    alert('succes!!');
                                    //},
                                    //error: function(error) {
                                    //    alert("errror");
                                    //}
                                })
                                .done(function () {
                                    alert('success');
                                }.fail(function (xhr, status, errorThrown) {
                                    alert('fail');
                                }));

                            
                        }
                    </script>*@
                    <script>
                       

                        $("#profilePic").change(function () {
                            debugger
                            var formData = new FormData();
                            var totalFiles = document.getElementById("profilePic").files.length;
                            for (var i = 0; i < totalFiles; i++) {
                                var file = document.getElementById("profilePic").files[i];
                                formData.append("profilePic", file);
                            }
                            $.ajax({
                                type: "POST",
                                url: '/LeadersProfile/UploadProfile',
                                data: formData,
                                dataType: 'json',
                                contentType: false,
                                processData: false
                                //success: function(response) {
                                //    alert('succes!!');
                                //},
                                //error: function(error) {
                                //    alert("errror");
                                //}
                            }).done(function () {
                                alert('success');
                            }.fail(function (xhr, status, errorThrown) {
                                alert('fail');
                            }
                            )
                                    });
                        
                    </script>

                    <script>
                        function profilePic(input) {

                            if (input.files && input.files[0]) {
                                var reader = new FileReader();

                                reader.onload = function (e) {
                                    $('#imgProfile').attr('src', e.target.result);
                                    $('#imgProfile').css("height", 250);
                                    $('#imgProfile').css("width", 250);
                                }

                                reader.readAsDataURL(input.files[0]);
                            }
                        }
                    </script>

                </div>
            </div>
        </div>
    </section>
    <!--</div>  </section>-->

</main>



