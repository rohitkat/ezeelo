@model ModelLayer.Models.ViewModel.BBPUserStatusData
@{
    /**/

    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LeaderUsersLayout.cshtml";
}


<link href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />
<script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<style>
    .maintabularPageView {
        font-size: medium !important
    }

    .table .thead-dark th {
        color: #fff;
        background-color: black !important;
        border-color: #e4e1e1;
        /*font-size: medium !important*/
    }

    .table tr {
        color: black;
    }

    .panel-title {
        color: #620000 !important;
        text-decoration: double !important;
        font-weight: bold;
    }
</style>
<script>
    $(document).ready(function () {
        $('#tablePreview').DataTable({
            //"order": [[0, 'asc']]
        });
        $('#tablePreview').slideDown(100);

    });
</script>
<section class="maintabularPageView">
    <div class="maintabularPageView-child">
        <div class="container">
            @{
                int Userstatus = Model.result.FirstOrDefault().UserStatus;
                if (Userstatus == 1)
                {
                    <center>
                        <label id="lblinfo" style="font-weight:bold;text-transform:uppercase !important"><span style="color:#90fa90">Active</span> for payout @TempData["StartDtae"] to @TempData["EndDtae"]</label>
                    </center>
                }
                else
                {
                    <center>
                        <label id="lblinfo" style="font-weight:bold;text-transform:uppercase !important"><span style="color:#f86c6c">Inactive</span> for payout @TempData["StartDtae"] to @TempData["EndDtae"]</label>
                    </center>
                }
            }

            <table id="tablePreview" style="display:none;" class="table table-striped table-hover table-responsive">
                <thead class="thead-dark">
                    <tr>
                        <th>
                            SrNo
                        </th>
                        <th>
                            OrderCode
                        </th>
                        <th>
                            Order Type
                        </th>
                        <th>
                            Retail Points
                        </th>
                        <th>
                            Order Status
                        </th>
                        <th>
                            Order Placed Date
                        </th>
                        <th>
                            Order Delivered Date
                        </th>
                        <th>
                            Active UpTo
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        string color = "";
                        string classN = "";
                        string IsCssAdd = "";

                        foreach (var item in Model.report)
                        {
                            if (Model.order.Any(p => p.OrderCode == item.OrderCode))
                            {
                                if (Model.result.Any(p => p.UserStatus == 1))
                                {
                                    classN = "background-color: #90fa90;margin-left: -220px;position: fixed;width: 200px;word -break: break-all;box-shadow: 4px -5px 6px black;border-radius: 10px;padding: 5px;";
                                    color = "#90fa90";
                                }
                                else
                                {
                                    classN = "background-color:#f86c6c;margin-left: -220px;position: fixed;width: 200px;word -break: break-all;box-shadow: 4px -5px 6px black;border-radius: 10px;padding: 5px;";
                                    color = "#f86c6c";
                                }
                            }
                            else
                            {
                                color = "";
                                if (Model.result.Any(p => p.UserStatus == 1))
                                {
                                    classN = "background-color: #90fa90;margin-left: -220px;position: fixed;width: 200px;word -break: break-all;box-shadow: 4px -5px 6px black;border-radius: 10px;padding: 5px;";
                                }
                                else
                                {
                                    classN = "background-color:#f86c6c;margin-left: -220px;position: fixed;width: 200px;word -break: break-all;box-shadow: 4px -5px 6px black;border-radius: 10px;padding: 5px;";
                                }
                            }
                            if (IsCssAdd == "")
                            {
                                IsCssAdd = "1";
                                <tr style="background-color:@color">
                                    <td>@item.SrNo</td>
                                    <td><div style="@classN">@Model.result.FirstOrDefault().Reason</div>@item.OrderCode</td>
                                    <td>@item.OrderType</td>
                                    <td>@item.RetailPoints</td>
                                    <td>@item.OrderStatus</td>
                                    <td>@item.OrderPlacedDate</td>
                                    <td>@item.OrderDeliveredDate</td>
                                    <td>@item.ActiveUpto</td>
                                </tr>
                            }
                            else
                            {
                                <tr style="background-color:@color">
                                    <td>@item.SrNo</td>
                                    <td>@item.OrderCode</td>
                                    <td>@item.OrderType</td>
                                    <td>@item.RetailPoints</td>
                                    <td>@item.OrderStatus</td>
                                    <td>@item.OrderPlacedDate</td>
                                    <td>@item.OrderDeliveredDate</td>
                                    <td>@item.ActiveUpto</td>
                                </tr>
                            }

                        }
                    }
                </tbody>
            </table>

        </div>
    </div>
</section>


