@using PagedList;

@using PagedList.Mvc;

@model IPagedList<ModelLayer.Models.ViewModel.PurchaseReportViewModel>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LeaderUsersLayout.cshtml";
}

<link rel="stylesheet" href="~/Templates/UsersTemplate/css/material-design.minfd53.css">
<link rel="stylesheet" href="~/Templates/UsersTemplate/css/style3.css">
<link rel="stylesheet" href="~/Templates/UsersTemplate/css/dropify.minfd53.css">
<link rel="stylesheet" href="~/Templates/UsersTemplate/css/custom.css">
<link rel="stylesheet" href="~/Templates/UsersTemplate/css/tablesaw.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="~/Scripts/tablesorter/jquery.tablesorter.combined.min.js"></script>


<link href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />
<script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
<link href="https://cdn.datatables.net/responsive/2.2.3/js/responsive.bootstrap.min.js" rel="stylesheet">


<div class="mainOFPURCHASEREPORT">
    <div class="page" style="touch-action: pan-y; user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
        <div class="page-header">
            <h2 class="page-title">Purchase Report</h2>
        </div>

        <div class="page-content container-fluid">
            <div class="row">
                <div class="col-sm-12">
                    <!-- Panel Kitchen Sink -->
                    <div class="panel">


                        <div class="panel-body ">
                            <div class="tablesaw-bar tablesaw-mode-columntoggle">
                               

                                <div class="tablesaw-columntoggle-btnwrap tablesaw-advance popup" onclick="myFunction()">
                                    <a href="#tablesaw-2523-popup" class="btn tablesaw-btn btn-micro tablesaw-columntoggle-btn tablesaw-nav-btn down waves-effect waves-classic"
                                       data-popup-link="">
                                        <span>Columns</span>
                                    </a>

                                    <div class="tablesaw-columntoggle-popup popuptext" id="myPopup">
                                        <div class="btn-group">
                                            <label>
                                                <input type="checkbox" id="withdral" checked="">Order Amount
                                            </label>
                                            <label>
                                                <input type="checkbox" id="OrderAmnt" checked="">EzeeMoney Used
                                            </label>
                                            <label>
                                                <input type="checkbox" id="PointCollect" checked="">Points Collected
                                            </label>
                                            @*<label>
                                                <input type="checkbox" id="Comment" checked="">Comments
                                            </label>*@
                                            <label>
                                                <input type="checkbox" id="Status" checked="">Status
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="tablesaw-advance minimap" style="display: block;">
                                    <ul class="tablesaw-advance-dots">
                                        <li>
                                            <i></i>
                                        </li>
                                        <li>
                                            <i></i>
                                        </li>
                                        <li>
                                            <i></i>
                                        </li>
                                        <li>
                                            <i></i>
                                        </li>
                                        <li>
                                            <i></i>
                                        </li>
                                        <li>
                                            <i></i>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div class="tablesaw-overflow">
                                <table class="tablesaw table-striped table-bordered table-hover tablesaw-columntoggle tablesaw-fix-persist report-table tablesaw-sortable"
                                       data-tablesaw-mode="columntoggle" data-tablesaw-sortable="" data-tablesaw-sortable-switch=""
                                       data-tablesaw-minimap="" id="tablesaw">

                                    <thead>
                                        <tr>
                                            <th data-tablesaw-sortable-col="" data-tablesaw-sortable-default-col="" data-tablesaw-priority="persist" class="width-ms tablesaw-sortable-head tablesaw-sortable-ascending"
                                                data-tablesaw-sortable-numeric="false">
                                                <button class="tablesaw-sortable-btn">
                                                    @Html.ActionLink("Discription", "GetReport", new
                                               {
                                                   sort = ViewBag.SortByName,
                                                   //option = Request.QueryString["option"],
                                                   //search = Request.QueryString["search"]
                                               })
                                                    <i class="fa fa-fw fa-sort"></i>
                                                </button>
                                            </th>
                                            @*<th data-tablesaw-sortable-col="" data-tablesaw-priority="1" class="min-width-125 tablesaw-priority-1 tablesaw-sortable-head"
            data-tablesaw-sortable-numeric="false">
            <button class="tablesaw-sortable-btn">
                Withdrawal/Credit
                <span class="tablesaw-sortable-arrow"></span>
            </button>
        </th>*@
                                            <th data-tablesaw-sortable-col="" data-tablesaw-priority="2" class="tablesaw-priority-2 tablesaw-sortable-head" data-tablesaw-sortable-numeric="false">
                                                <button class="tablesaw-sortable-btn">
                                                    @Html.ActionLink("Order Amount", "GetReport", new
                                               {
                                                   sort = ViewBag.SortByGender,
                                                   //option = Request.QueryString["option"],
                                                   //search = Request.QueryString["search"]
                                               })
                                                    <i class="fa fa-fw fa-sort"></i>
                                                </button>
                                            </th>
                                            <th data-tablesaw-sortable-col="" data-tablesaw-priority="1" class="min-width-250 tablesaw-priority-1 tablesaw-sortable-head"
                                                data-tablesaw-sortable-numeric="false">
                                                <button class="tablesaw-sortable-btn">
                                                    @Html.ActionLink("EzeeMoney Used", "GetReport", new
                                               {
                                                   sort = ViewBag.SortByWallet,
                                                   //option = Request.QueryString["option"],
                                                   //search = Request.QueryString["search"]
                                               })
                                                    <i class="fa fa-fw fa-sort"></i>
                                                    <span class="tablesaw-sortable-arrow"></span>
                                                </button>
                                            </th>

                                            <th data-tablesaw-sortable-col="" data-tablesaw-priority="3" class="tablesaw-priority-3 tablesaw-sortable-head" data-tablesaw-sortable-numeric="false">
                                                <button class="tablesaw-sortable-btn">
                                                    @Html.ActionLink("Points Collected", "GetReport", new
                                               {
                                                   sort = ViewBag.SortByPointsCollecte,
                                                   //option = Request.QueryString["option"],
                                                   //search = Request.QueryString["search"]
                                               })
                                                    <i class="fa fa-fw fa-sort"></i>
                                                </button>
                                            </th>
                                            @*<th data-tablesaw-sortable-col="" data-tablesaw-priority="4" class="tablesaw-priority-4 tablesaw-sortable-head" data-tablesaw-sortable-numeric="false">
            <button class="tablesaw-sortable-btn">
                Comments
                <span class="tablesaw-sortable-arrow"></span>
            </button>
        </th>*@
                                            <th data-tablesaw-sortable-col="" data-tablesaw-priority="5" class="tablesaw-priority-5 tablesaw-sortable-head" data-tablesaw-sortable-numeric="false">
                                                <button class="tablesaw-sortable-btn">
                                                    Status
                                                    <span class="tablesaw-sortable-arrow"></span>
                                                </button>
                                            </th>
                                        </tr>
                                    </thead>
                                    @foreach (var item in Model)
                                    {
                                        <tbody>

                                            <tr>
                                                <td>
                                                    <a href="@Url.Action("OrderDetails", "PurchaseReport", new { orderCode=item.OrderCode})">#@Html.DisplayFor(modelItem => item.OrderCode)</a>
                                                    <p class="m-0 mb-0 mt-0 table-field-text">
                                                        <i class="fa fa-clock-o"></i>&nbsp;@Html.DisplayFor(modelItem => item.OrderDate) |
                                                        @Html.DisplayFor(modelItem => item.OrderStatus) |
                                                        <i class="fa fa-clock-o"></i>&nbsp;@Html.DisplayFor(modelItem => item.DeliveryDate) |
                                                        <i class="fa fa-money"></i>&nbsp;@Html.DisplayFor(modelItem => item.paymentmode)
                                                    </p>
                                                </td>
                                                @*<td class="tablesaw-priority-1">-</td>*@
                                                <td class="tablesaw-priority-2">@Html.DisplayFor(modelItem => item.OrderAmt)</td>
                                                <td class="tablesaw-priority-1">@Html.DisplayFor(modelItem => item.WalletAmountUsed)</td>
                                                <td class="tablesaw-priority-3">

                                                    @Html.DisplayFor(modelItem => item.TransactionPts)

                                                </td>
                                                @*<td class="tablesaw-priority-4">TXN ID - 71</td>*@
                                                <td class="tablesaw-priority-5">@Html.DisplayFor(modelItem => item.Status)</td>
                                            </tr>


                                        </tbody>
                                    }

                                </table>
                                @Html.PagedListPager(Model, pageNumber => Url.Action("GetReport", new
                           {
                               pageNumber,
                               //option = Request.QueryString["option"],
                               // search = Request.QueryString["search"]
                           }))
                               
                            </div>

                        </div>
                    </div>
                    <!-- <p></p> -->
                    <!-- End Panel Kitchen Sink -->

                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

    // When the user clicks on div, open the popup (div#tablesaw-2523-popup)
    function myFunction() {

        var popup = document.getElementById("myPopup");
        popup.classList.toggle("show");
    }


</script>


<script type="text/javascript">
    $(document).ready(function () {


        $('#withdral').bind('change', function () {


            if ($(this).is(':checked'))
                $('td:nth-child(2),th:nth-child(2)').show();
            else
                $('td:nth-child(2),th:nth-child(2)').hide();

        });

        $('#OrderAmnt').bind('change', function () {


            if ($(this).is(':checked'))
                $('td:nth-child(3),th:nth-child(3)').show();
            else
                $('td:nth-child(3),th:nth-child(3)').hide();

        });


        $('#PointCollect').bind('change', function () {


            if ($(this).is(':checked'))
                $('td:nth-child(4),th:nth-child(4)').show();
            else
                $('td:nth-child(4),th:nth-child(4)').hide();

        });


        $('#Comment').bind('change', function () {


            if ($(this).is(':checked'))
                $('td:nth-child(5),th:nth-child(5)').show();
            else
                $('td:nth-child(5),th:nth-child(5)').hide();

        });

        $('#Status').bind('change', function () {


            if ($(this).is(':checked'))
                $('td:nth-child(6),th:nth-child(6)').show();
            else
                $('td:nth-child(6),th:nth-child(6)').hide();

        });

    });
</script>



