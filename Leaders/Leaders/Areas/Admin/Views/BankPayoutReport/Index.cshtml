
@model ModelLayer.Models.ViewModel.LeadersOrderViewModel
@{
    ViewBag.Title = "Index";

    if (Session["RoleName"]!=null && Session["RoleName"].ToString() == "accounts")
    {
        Layout = "~/Views/Shared/_AccountsLayout.cshtml";
    }
    else
    {
        Layout = "~/Views/Shared/_LeadersLayout.cshtml";
    }
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="~/Scripts/jquery-1.12.4.js"></script>

    @*<link href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />
        <script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>*@


    @*<script src="~/Scripts/jquery-ui-1.12.1.min.js"></script>
    <link href="~/Content/css/datepicker.css" rel="stylesheet" />
    <link href="~/Content/css/jquery-ui-1.8.21.custom.css" rel="stylesheet" />*@


</head>

<style type="text/css">
    #loading {
        display: none;
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(255,255,255,0.8);
        z-index: 1000;
    }

    #loadingcontent {
        display: table;
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
    }

    #loadingspinner {
        display: table-cell;
        vertical-align: middle;
        width: 100%;
        text-align: center;
        font-size: larger;
        padding-top: 80px;
    }
</style>
<body>

    @*<div class="col-2">
        <input type="datetime" id="sDate" name="min" readonly="readonly" placeholder="Transaction Date">
    </div>
    <div class="col-2">
        <input type="button" class="btn-primary" value="Set Date" name="btnSearch" id="btnBetweenDate" />
    </div>*@
    <div id="dataDiv">

    </div>
    <div class="container">

        <div class="LeadersTable">


        </div>
        <div class="FilterTable">

        </div>
        <br />

    </div>
</body>

</html>


<script>

    $(document).ready(function () {

        $.ajax({
            type: "GET",
            url: "@Url.Action("partialPayoutDetailsToBank", "BankPayoutReport")",
            contentType: "application/json; charset=utf-8",
            //data: '{"startDate":"' + $("#min").val() + '","endDate":"' + $("#max").val() + '"}',
            data: {},
            dataType: "html",

            success: function (data, status, xhr) {


                $(".LeadersTable").html(data);


            },
            error: function (xhr, status, error) {
                $("#dataDiv").html("data: " + status + " " + error + " " + xhr.status + " " + xhr.statusText)
            }
        });

    });



    $("#btnSearch").click(function () {

        $.ajax({
            type: "POST",
            url: "@Url.Action("ListBetweenDate", "BankPayoutReport")",
            contentType: "application/json; charset=utf-8",
            data: '{"startDate":"' + $("#min").val() + '","endDate":"' + $("#max").val() + '"}',
            dataType: "html",

            success: function (data, status, xhr) {

                $(".LeadersTable").empty();


                $(".FilterTable").html(data);


            },
            error: function (xhr, status, error) {

                $("#dataDiv").html("data: " + status + " " + error + " " + xhr.status + " " + xhr.statusText)
            }
        });

    });

</script>
@*<script>
        function exportexcel() {

            var sDate = $("#min").val();
            var eDate = $("#max").val();

            window.location.href = "/BankPayoutReport/Export?toDate=" + eDate + "&fromDate=" + sDate;


        }
    </script>*@
<script>


    $('#btnExcel').click(function () {
        var sDate = $("#min").val();
        var eDate = $("#max").val();

        window.location.href = "/BankPayoutReport/ExportToExcel?toDate=" + eDate + "&fromDate=" + sDate;

    })

</script>

<script type="text/javascript">
    $(document).ready(function ()
    {
        $("#sDate").datepicker();
        //$("#max").datepicker();

    });
</script>
























