@model ModelLayer.Models.ViewModel.LeadersOrderViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LeadersLayout.cshtml";
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="~/Scripts/jquery-1.12.4.js"></script>

    <link href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />
    <script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

    
    <script src="~/Scripts/jquery-ui-1.12.1.min.js"></script>
    <link href="~/Content/css/datepicker.css" rel="stylesheet" />
    <link href="~/Content/css/jquery-ui-1.8.21.custom.css" rel="stylesheet" />

   </head>
  <body>
      <div id="dataDiv">

      </div>
      <div class="container">
         
           <div class="LeadersTable">
              

          </div>
          <div class="FilterTable">

          </div>
          <br />
          <div class="col-2">
              <input type="datetime" id="min" name="min" readonly="readonly" placeholder="Start Date">
          </div>
          <div class="col-2">
              <input type="datetime" id="max" name="max" readonly="readonly" placeholder="End Date">
          </div>
          <div class="col-2">
              <input type="button" class="btn-primary" value="Search" name="btnSearch" id="btnSearch" />
          </div>
          <div class="col-2">
              <input type="button" name="btnExcel" id="btnExcel" value="Export To Excel" class="btn btn-primary" />
          </div>
      </div>
      </body>
    
</html>

<script>
   
    $(document).ready(function () {

        $.ajax({
            type: "GET",
            url: "@Url.Action("PartialLeadersOrder", "LeadersCustomerOrder")",
            contentType: "application/json; charset=utf-8",
            //data: '{"startDate":"' + $("#min").val() + '","endDate":"' + $("#max").val() + '"}',
            data: {},
            dataType: "html",

            success: function (data, status, xhr) {
               debugger

                $(".LeadersTable").html(data);


            },
            error: function (xhr, status, error) {
                $("#dataDiv").html("data: " + status + " " + error + " " + xhr.status + " " + xhr.statusText)
            }
        });

    });
    
  
    
    $("#btnSearch").click(function () {
       


        $.ajax({
            type: "POST",
            url: "@Url.Action("ListBetweenDate", "LeadersCustomerOrder")",
            contentType: "application/json; charset=utf-8",
            data: '{"startDate":"' + $("#min").val() + '","endDate":"' + $("#max").val() + '"}',
            dataType: "html",

            success: function (data, status, xhr) {

                $(".LeadersTable").empty();


                $(".FilterTable").html(data);


            },
            error: function (xhr, status, error) {
                $("#dataDiv").html("data: " + status + " " + error + " " + xhr.status + " " + xhr.statusText)
            }
        });

    });

    </script>
<script>
    //$("#btnExcel").click(function () {
    //    var sDate = $("#min").val();
    //    var eDate = $("#max").val();
    //    $.post("/LeadersCustomerOrder/ExportToExcel", { toDate: eDate, fromDate: sDate }, function () { })
    //})

    $('#btnExcel').click(function () {
        var sDate = $("#min").val();
        var eDate = $("#max").val();

        window.location.href = "/LeadersCustomerOrder/ExportToExcel?toDate=" + eDate + "&fromDate=" + sDate;



    })
    
   </script>

<script type="text/javascript">
    $(document).ready(function () {
        $("#min").datepicker();
        $("#max").datepicker();

    });
</script>
    









  
 

    







