@model IEnumerable<ModelLayer.Models.MerchantProfile>

@{
    ViewBag.Title = "REgistered Merchant's";
    Layout = "~/Views/Shared/_LeadersLayout.cshtml";
}
<link rel="stylesheet" href="http://cdn.datatables.net/1.10.2/css/jquery.dataTables.min.css" />
<script type="text/javascript" src="http://cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>

<script src="~/Scripts/MerchantMenuOpenup.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#tblData').DataTable({});
    });
</script>
@if (TempData["Result"] != null)
{
    <script>
        alert('@TempData["Result"]');
    </script>
}
<style>
    th {
        cursor: pointer !important;
    }
</style>
<div class="container">
    <div class="card">
        <div class="card-header">
            <strong>Merchant Profile Update Request List</strong>
        </div>
        <div class="card-body card-block" style="overflow:auto">
            <table id="tblData" class="table table-striped table-bordered bootstrap-datatable datatable dataTable" width="100%">
                <thead>
                    <tr>
                        <th>
                            Sr.No
                        </th>
                        <th>
                            Shop Name
                        </th>
                        <th>
                            Contact Person
                        </th>
                        <th>
                            Contact Number
                        </th>
                        <th>
                            City
                        </th>
                        <th>
                            Status
                        </th>
                        <th>
                            Request Date
                        </th>
                        <th></th>
                    </tr>
                </thead>
                @{ int i = 1;}
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @i
                            @{ i = i + 1;}
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.FranchiseName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ContactPerson)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ContactNumber)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CityName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Status)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CreateDate)
                        </td>
                        <td>
                            @if (item.Status == "Pending")
                            {
                                @Html.ActionLink("View", "ProfileUpdateRequest", new { ProfileId = item.Id }, new { @class = "btn btn-warning btn-sm" })
                            }
                            else
                            {
                                if (item.Status == "Rejected")
                                {
                                    <span class="text-danger">@item.Status</span>
                                }
                                else
                                {
                                    <span class="text-success">@item.Status</span>
                                }
                            }
                        </td>
                    </tr>
                }

            </table>
        </div>
    </div>
</div>

