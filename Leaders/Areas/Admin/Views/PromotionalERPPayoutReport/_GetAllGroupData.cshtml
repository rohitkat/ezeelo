@model IEnumerable<ModelLayer.Models.ViewModel.PromotionalERPPayout_ReportViewModel>
@*@model ModelLayer.Models.ViewModel.EzeeMoneyPayout_ReportViewModel*@


<script src="~/Scripts/jquery-1.12.4.js"></script>

<link href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />
<script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

<div id="wrap">
    <div class="container">
        <div id="content" class="span10" >
            <table id="tblData" class="table table-bordered table-striped table-condensed display" width="100%">
                <thead>
                    <tr>
                        <th>Sr.No.</th>
                        <th>User LogiId</th>
                        <th>Paid Date</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Phone No</th>
                        <th>ERP</th>
                        <th>EzeeMoney</th>
                        <th>Reference Text</th>

                    </tr>
                </thead>
                <tbody>

                    @{
                        var j = 1;
                    }
                    @if (Model.Count() != 0)
                    {
                        foreach (var item in @Model)
                        {
                            <tr>
                                <td>
                                    @j
                                    @{
                                        j = j + 1;
                                    }
                                </td>
                                <td>
                                    @item.UserloginId
                                </td>
                                <td>
                                    @item.listPromotionalERPPayoutDetails.FirstOrDefault().PaidDate
                                    @*@Convert.ToString(string.Format("{dd-MM-yyyy}", item.listPromotionalERPPayoutDetails.FirstOrDefault().PaidDate))*@
                                </td>
                                <td>
                                    @item.listPromotionalERPPayoutDetails.FirstOrDefault().Name
                                </td>
                                <td>
                                    @item.listPromotionalERPPayoutDetails.FirstOrDefault().Email
                                </td>
                                <td>
                                    @item.listPromotionalERPPayoutDetails.FirstOrDefault().Phone
                                </td>

                                <td>
                                    @item.listPromotionalERPPayoutDetails.Sum(x => x.ERP)
                                </td>
                                <td>
                                    @item.listPromotionalERPPayoutDetails.Sum(x => x.EzeeMoney)
                                </td>
                                <td>
                                    <table class="table table-bordered table-striped table-condensed display">
                                        <thead>
                                            <tr>
                                                <th>Sr.No</th>
                                                <th>Text</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @{int i = 1;}
                                            @foreach (var item2 in item.listPromotionalERPPayoutDetails)
                                            {
                                                <tr>
                                                    <td>@i</td>
                                                    <td>@item2.ReferenceText</td>
                                                </tr>
                                                i++;
                                            }
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="8">
                                <label style=" color: #138afc; ">No Record Found.... </label>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $('#tblData').DataTable();
        $("#pageloaddiv").css('display', 'none');

    });
</script>

