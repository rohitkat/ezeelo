@model IEnumerable<ModelLayer.Models.ViewModel.BankPayoutRequestViewModel>

@{
    ViewBag.Title = "Index";
    if (Session["RoleName"] != null && Session["RoleName"].ToString() == "accounts")
    {
        Layout = "~/Views/Shared/_AccountsLayout.cshtml";
    }
    else
    {
        Layout = "~/Views/Shared/_LeadersLayout.cshtml";
    }
}

<script src="~/Scripts/jquery-1.12.4.js"></script>

<link href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />

<link href="https://cdn.datatables.net/fixedcolumns/3.2.6/css/fixedColumns.dataTables.min.css" rel="stylesheet" />
<script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/fixedcolumns/3.2.6/js/dataTables.fixedColumns.min.js"></script>


<script src="~/Scripts/jquery-ui-1.12.1.min.js"></script>
<link href="~/Content/css/datepicker.css" rel="stylesheet" />
<link href="~/Content/css/jquery-ui-1.8.21.custom.css" rel="stylesheet" />


<style>

    /* Ensure that the demo table scrolls */
    th, td {
        white-space: nowrap;
    }

    div.dataTables_wrapper {
        width: 1050px;
        margin: 0 auto;
    }

    .pro_th thead tr th {
        font-size: 12px;
        border-bottom: 1px solid #EEE;
        padding: 6px 0;
        background-color: #26A69A;
    }

    .pro_th tbody td {
        font-size: 12px;
        text-align: center;
        border: 1px solid #EEE;
    }

        .pro_th tbody td.btn-set {
            white-space: nowrap;
        }

    .dataTables_length {
        margin-left: 0px !important;
        margin-top: 7px;
    }

    .pagination {
        margin: 0 26px;
    }

    form {
        margin: 0 0 -15px;
    }
</style>


<div id="wrap">

    <div class="container">
        <legend><h3>Bank Payout Report</h3></legend>
        <div id="content" class="span10" style="min-height: 403px;">
            <table id="bankPayoutReport" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>
                            Name
                        </th>
                        <th>
                            Email
                        </th>
                        <th>
                            Mobile
                        </th>
                        <th>
                            Benificiary Name
                        </th>
                        <th>
                            Account Number
                        </th>
                        <th>
                            Bank Name
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.IFSC)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.BenificiaryEmail)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.RequestID)
                        </th>
                        <th>
                            Paid Amount
                        </th>
                        <th>
                            Transaction ID
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.TransactionDate)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.PaymentStatus)
                        </th>
                        <th>
                            Remark
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.CreateDate)
                        </th>
                        <th>
                            Modified Date
                        </th>


                    </tr>
                </thead>
                <tbody>

                    @foreach (var item in Model)
                    {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.FullName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Email)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Mobile)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.BenificiaryAccountName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.BenificiaryAccountNumber)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.BenificiaryBankName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.IFSC)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.BenificiaryEmail)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RequestID)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.InstrumentAmount)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TransactionID)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TransactionDate)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.StatusPayment)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.PaymentRemark)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CreateDate)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RequestStatus_Date)
                        </td>



                    </tr>
                    }
                </tbody>

            </table>
        </div>
        <div class="col-2">
            <input type="datetime" id="sDate" name="min" readonly="readonly" placeholder="Start Date">
        </div>
        <div class="col-2">
            <input type="datetime" id="eDate" name="max" readonly="readonly" placeholder="End Date">
        </div>
        <div class="col-2">
            @*<input type="button" class="btn-primary" value="Search" name="btnSearch" id="btnBetweenDate" />*@
        </div>
        <div class="col-2">
            <input type="button" name="btnExcel" id="btnExcel" value="Export To Excel" class="btn btn-primary" />
        </div>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $('#bankPayoutReport').DataTable({
            "order": [[15, "desc"]],
            //scrollY: 300,
            scrollX: true,
            scrollCollapse: false,
            paging: true,
            fixedColumns: true
        })
    });


</script>

<script>

    $('#btnExcel').click(function () {
        var sDate = $("#sDate").val();
        var eDate = $("#eDate").val();

        window.location.href = "/bankPayoutReport/ExportToExcel?toDate=" + eDate + "&fromDate=" + sDate;



    })
</script>

<script>
    $(document).ready(function () {
        $("#sDate").datepicker();
        $("#eDate").datepicker();

    });
</script>


