@using PagedList;
@using PagedList.Mvc;
@model IPagedList<ModelLayer.Models.ViewModel.EarnAndReferDetailReportViewModel>

@*@model IEnumerable<ModelLayer.Models.ViewModel.EarnAndReferDetailReportViewModel>*@


@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .dataTables_length {
        margin-left: 0px;
        margin-top: 7px;
    }

    .dataTables_wrapper .dataTables_paginate {
        float: none !important;
        text-align: center !important;
    }

    .pagination {
        margin: 0 40px;
    }

    .btn-brown {
        color: #ffffff;
        background-color: #267196;
        border-color: #8AA0B9;
        background-image: none;
        filter: none;
        text-shadow: none;
        width: 47px !important;
        margin-left: 7px;
        padding: 1px!important;
    }
    .uneditable-input, input[type=text] {
        width: 120px;
    }
    .table th, .table td {
        border-top: 1px solid #eee !important;
        border-left: 1px solid #eee !important;
        border-right: 1px solid #eee !important;
        border-bottom: 1px solid #eee !important;
    }
</style>
<script language="javascript" type="text/javascript">
    function PrintDivContent(divId) {
        var printContent = document.getElementById(divId);
        var WinPrint = window.open('', '', 'left=0,top=0,toolbar=0,sta­tus=0');
        WinPrint.document.write(printContent.innerHTML);
        WinPrint.document.close();
        WinPrint.focus();
        WinPrint.print();
    }
</script>

<div id="content" class="row-fluid" >

    <div class="box span12">
        <div class="box-header">
            <h2><i class="icon-edit"></i><span class="break"></span>Refer And Earn Details Report</h2>
        </div>
        <div class="row-fluid" @*style="padding-left:44px;"*@>
            <div class="span9">
                @using (Html.BeginForm("Index", "ReferAndEarnPerformanceSummaryReport", FormMethod.Post, new { enctype = "multipart/form-data" }))
                {
                    <div class="span12">
                        <div class="span3" style="margin-left: 10px; margin-top: 8px;">
                            @*<div class="span3">
                                    @Html.TextBox("SearchUserName", null, new { @class = "search_input margingnew", placeholder = "User Name" })

                                </div>*@
                            <div class="span3">
                                @Html.TextBox("SearchSchemeName", null, new { @class = "search_input margingnew", placeholder = "Scheme Name" })

                            </div>
                            @*<div class="span3">
                                    @Html.TextBox("SearchEmail", null, new { @class = "search_input", placeholder = "Email ID" })

                                </div>
                                <div class="span3">
                                    @Html.TextBox("SearchMobile", null, new { @class = "search_input", placeholder = "Mobile No" })
                                </div>*@
                            <label id="lblMsg" style="color:red"></label>
                        </div>
                        <div class="span2">
                            <input type="submit" value="Search" class="btn btn-primary btn-search" style="margin-left: 0px; margin-top: 8px; " />
                        </div>
                    </div>
                }
            </div>
            <div class="span3" style="margin-top:10px; text-align:right;">
                @Html.ActionLink("EXCEL", "Index", new { option = 1, SearchMobile = ViewBag.SearchMobile, SearchEmail = ViewBag.SearchEmail, SearchUserName = ViewBag.SearchUserName, SearchSchemeName = ViewBag.SearchSchemeName }, new { @class = "btn btn-default btn-brown" })
                @Html.ActionLink("CSV", "Index", new { option = 2, SearchMobile = ViewBag.SearchMobile, SearchEmail = ViewBag.SearchEmail, SearchUserName = ViewBag.SearchUserName, SearchSchemeName = ViewBag.SearchSchemeName }, new { @class = "btn btn-brown" })
                @Html.ActionLink("PDF", "Index", new { option = 3, SearchMobile = ViewBag.SearchMobile, SearchEmail = ViewBag.SearchEmail, SearchUserName = ViewBag.SearchUserName, SearchSchemeName = ViewBag.SearchSchemeName }, new { @class = "btn btn-brown" })
                <input value="PRINT" class="btn btn-brown" onclick="javascript:PrintDivContent('divToPrint');" />


            </div>
        </div>
        <div class="box-content">

            <div class="box-content" id="divToPrint">
                <div class="my_table">
                    <table class="table">
                        <thead>
                            <tr>
                                @*<th>
                                        @Html.DisplayNameFor(model => model.ReferenceID)
                                    </th>*@
                                <th>
                                    Sr.No.
                                </th>
                                <th>
                                    Scheme Name
                                </th>
                                <th>
                                    Total Budget Amount
                                </th>
                                <th>
                                    Remaining Amount
                                </th>
                                <th>
                                    Order Amount
                                </th>

                                @*<th></th>*@
                            </tr>
                        </thead>
                        @{int i = 1;}
                        @foreach (var item in Model)
                        {
                            <tr>
                                @*<td>
                                        @Html.DisplayFor(modelItem => item.ReferenceID)
                                    </td>*@
                                <td>@{int SrNo = ((ViewBag.PageNumber - 1) * ViewBag.PageSize) + i; } @SrNo</td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.SchemeName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.TotalBudgetAmount)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.RemainingAmount)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.OrderAmount)
                                </td>

                                @*<td>
                                        @Html.ActionLink("Edit", "Edit", new { id=item.ID }) |
                                        @Html.ActionLink("Details", "Details", new { id=item.ID }) |
                                        @Html.ActionLink("Delete", "Delete", new { id=item.ID })
                                    </td>*@
                            </tr>
                                i++;
                        }

                    </table>
                </div>
            </div>
            <div class="pager">
                @Html.PagedListPager(Model, Page => Url.Action("Index", new
                       {
                           page = Page,
                           //StartDate = ViewBag.StartDate,
                           //EndDate = ViewBag.EndDate,
                           SearchProName = ViewBag.SearchUserName,
                           SearchMobile = ViewBag.SearchMobile,
                           SearchEmail = ViewBag.SearchEmail,
                           SearchCustName = ViewBag.SearchSchemeName
                           //SearchStage = ViewBag.SearchStage,
                           //CityList = ViewBag.selectedCity
                       }),
                                                                    new PagedListRenderOptions()
                                                                    {
                                                                        Display = PagedListDisplayMode.IfNeeded
                                                                    })
                <h4><span>Total Count:&nbsp;@ViewBag.TotalCount</span></h4>
            </div>
        </div>
    </div>
</div>

