@using PagedList;
@using PagedList.Mvc;
@model IPagedList<ModelLayer.Models.PreviewFeatureDisplay>

@*@model IEnumerable<ModelLayer.Models.PreviewFeatureDisplay>*@

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row-fluid">
    <div class="box span12">
        <div class="box-header">
            <h2><i class="icon-edit"></i><span class="break">@Html.ActionLink("Create New", "Create")</span></h2>
        </div>
        <div class="box-content">
            <span style="color:red"> @ViewBag.Messaage</span>

            @using (Html.BeginForm())
{
    <p>
        Find by name: @Html.TextBox("SearchString")
        <input type="submit" value="Search" />
    </p>
}
            @*<table class="table table-striped table-bordered bootstrap-datatable datatable">*@
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>
                            @*@Html.DisplayNameFor(model => model.Category.Name)*@
                            Category Name
                        </th>
                        <th>
                            @*@Html.DisplayNameFor(model => model.PreviewFeature.PreviewFeatureName)*@
                            PreviewFeature Name
                        </th>
                        <th>
                            @*@Html.DisplayNameFor(model => model.IsActive)*@
                            IsActive
                        </th>
                        @*<th>
                        @Html.DisplayNameFor(model => model.CreateDate)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.CreateBy)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ModifyDate)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ModifyBy)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.NetworkIP)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.DeviceType)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.DeviceID)
                    </th>*@
                        <th></th>
                    </tr>
                </thead>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Category.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.PreviewFeature.PreviewFeatureName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.IsActive)
                        </td>
                        @*<td>
                        @Html.DisplayFor(modelItem => item.CreateDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CreateBy)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ModifyDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ModifyBy)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NetworkIP)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DeviceType)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DeviceID)
                    </td>*@
                        <td>
                            @Html.ActionLink("Edit", "Edit", new { id = item.ID }, new { @class = "btn btn-small btn-success" }) |
                            @Html.ActionLink("Details", "Details", new { id = item.ID }, new { @class = "btn btn-small btn-primary" })|
                            @Html.ActionLink("Delete", "Delete", new { id = item.ID }, new { @class = "btn btn-small btn-danger" })
                        </td>
                    </tr>
                }

            </table>



            <div class="pager">
                @Html.PagedListPager(Model, Page => Url.Action("Index", new
                       {
                           page = Page,
                           //StartDate = ViewBag.StartDate,
                           //EndDate = ViewBag.EndDate
                           searchString=ViewBag.CurrentFilter as string
                       }),
                                                                    new PagedListRenderOptions()
                                                                    {
                                                                        Display = PagedListDisplayMode.IfNeeded
                                                                    })
                @*<h4><span>Total Count:&nbsp;@ViewBag.TotalCount</span></h4>*@
            </div>
</div>
</div>
</div>