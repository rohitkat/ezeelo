@model ModelLayer.Models.ViewModel.CustomerRegistrationViewModel

@{
    string cityName = string.Empty;
    int franchiseID = 0;////added
    if (Request.Cookies["CityCookie"] != null)
    {
        cityName = Request.Cookies["CityCookie"].Value.Split('$')[1].ToLower();
        franchiseID = Convert.ToInt32(Request.Cookies["CityCookie"].Value.Split('$')[2]);////added

    }
}
<style>
    .breadcrumbs.dark {
        color: red;
        font-size: 16px;
        padding: 5px 0px 0px 0px;
        line-height: 17px;
        font-weight: 700;
    }
</style>

@*<!-- Facebook Pixel Code (Added By harshada on 12/1/2017)-->
<script>
    $(document).ready(function () {
        $('#submit').on('click', function () {
            var fn = $("[id*=FirstName]").val();
            var mob = $("[id*=Mobile]").val();
            var email = $("[id*=Email]").val();

            !function (f, b, e, v, n, t, s) {
                if (f.fbq) return; n = f.fbq = function () {
                    n.callMethod ?
                    n.callMethod.apply(n, arguments) : n.queue.push(arguments)
                }; if (!f._fbq) f._fbq = n;
                n.push = n; n.loaded = !0; n.version = '2.0'; n.queue = []; t = b.createElement(e); t.async = !0;
                t.src = v; s = b.getElementsByTagName(e)[0]; s.parentNode.insertBefore(t, s)
            }(window,
            document, 'script', 'https://connect.facebook.net/en_US/fbevents.js');
            fbq('init', '836970266428365', {
                fn: fn,
                ph: mob,
                em: email
            });
            fbq('track', 'PageView');
        });
    });

</script>
<noscript>
    <img height="1" width="1" style="display:none"
         src="https://www.facebook.com/tr?id=836970266428365&ev=PageView&noscript=1" />
</noscript>
<!-- DO NOT MODIFY -->
<!-- End Facebook Pixel Code  (Added By harshada on 12/1/2017)-->*@
@using (Html.BeginForm("CreateFromPartial", "Customer"))
{
    @Html.AntiForgeryToken()
    <div class="row" style="text-align: center;">
        <span id="errorMessage" class="breadcrumbs dark" style="width:100%;text-align:center"></span>
    </div>
    <div class="">
        <div class="grid">
            <h3 class="widget-title">Not a user yet?</h3>
            @if (ViewBag.Message != null)
            {
                <div class="breadcrumbs dark">
                    @ViewBag.Message
                    <a href="@Url.Action("login", "Login")" style="text-decoration:underline;margin-left:5px;" title="login">
                        Login to continue
                    </a>
                </div>
            }
            <div class="form-group">
                @Html.TextBoxFor(model => model.FirstName, new { id = "FirstName", maxlength = 50, autocomplete = "off", placeholder = "Name", @class = "form-control" })
                @Html.ValidationMessageFor(model => model.FirstName)
            </div>
            <div class="form-group">
                @Html.TextBoxFor(model => model.MobileNo, new { id = "Mobile",  maxlength = 10, autocomplete = "off", placeholder = "Mobile No", @class = "form-control" })
                @Html.ValidationMessageFor(model => model.MobileNo)
            </div>
            <div class="form-group">
                @Html.TextBoxFor(model => model.EmailId, new { id = "Email", maxlength = 150, autocomplete = "off", onchange = "ValidateEmail(this)", placeholder = "Email Id", @class = "form-control" })
                @Html.ValidationMessageFor(model => model.EmailId)
            </div>
            <div class="form-group">
                @Html.PasswordFor(model => model.Password, new { maxlength = 100, autocomplete = "off", placeholder = "Password", @class = "form-control" })
                @Html.ValidationMessageFor(model => model.Password)
            </div>
            <div class="form-group">
                @Html.PasswordFor(model => model.ConfirmPassword, new { maxlength = 100, autocomplete = "off", placeholder = "Confirm Password", @class = "form-control" })
                <span class="informer">@Html.ValidationMessageFor(model => model.ConfirmPassword)</span>
            </div>
            <div class="cell">
                <button type="submit" value="Create" id="submit" class="btn btn-success">Register</button><br />
                <span>By registering, you agree to our </span><b><a style=" text-decoration: underline;" href="@Url.RouteUrl("terms", new { city = cityName, franchiseId = franchiseID })">Terms of use</a></b>.
                @*<input type="submit" value="Create" class="btn btn-default" />
                    <a class="anchorRedirect" href="@Url.RouteUrl("pre-prod-name", new { itemId = Model.productList[i].ProductID, itemName = Regex.Replace(Model.productList[i].Name.Substring(0, Math.Min(Model.productList[i].Name.Length, 30)), @"[\/\\#,+()$~%.':*?<>{} ]", "-").Replace("&", "and").ToLower(), city = cityName })">
                     </a>*@
                <br />
            </div>

        </div>

    </div>
}

<script>
    function ValidateEmail(obj) {
        var email = $(obj).val();
        var filter = /^([\w-\.]+@@([\w-]+\.)+[\w-]{2,4})?$/;
        $('#divEmailError').hide();
        if (filter.test(email)) {
            return true;
        }
        else {
            $('#divEmailError').show();
            $('#divEmailError').html('Invalid Email [' + email + ']');
            $('#userLogin_Email').val('');
            $('#userLogin_Email').focus();
            $("#mask").hide();
            return false;
        }
    }
    $(document).ready(function () {

        $('#submit').click(function () {
            var EmailId = $("#EmailId").val();
            var MobileNo = $("#MobileNo").val();
            var pwd = $("#Password").val();
            var cnfrmPwd = $("#ConfirmPassword").val();

            var Emailfilter = /^([\w-\.]+@@([\w-]+\.)+[\w-]{2,4})?$/;
            var MobileFilter = /^([5-9]{1}[0-9]{9})$/;

            if (EmailId == '' && MobileNo == '') {
                $("#errorMessage").html('Please Provide Mobile No or Email ID');
                $("#mask").hide();
                return false;
            }
            else if (!Emailfilter.test(EmailId) || !MobileFilter.test(MobileNo) || (pwd != cnfrmPwd)) {
                $("#mask").hide();
            }
            else {
                $("#mask").show();
            }

        });

    });
</script>


@section Scripts{
    @Scripts.Render("~/bundles/jqueryval")
}


